__author__ = 'ArseneLupin'

import smaFeat
import unittest

class smaTest(unittest.TestCase):

    def sma_test(self):

        sourcelist1 = [0.9398233871,0.9261432796,0.9179352151,0.9234072581,0.9097271505,0.9507674731,0.9398233871,0.9480314516,
                       0.9507674731,0.9343513441,0.9316153226,0.9288793011,0.9480314516,0.9343513441,0.9343513441,0.9234072581,
                       0.9343513441,0.9452954301,0.9425594086,0.9507674731,0.9398233871,0.9452954301,0.9261432796,0.9234072581,
                       0.9507674731,0.9370873656,0.9617115591,0.9480314516,0.9370873656,0.9343513441,0.9343513441,0.9398233871,
                       0.9343513441,0.9370873656,0.9234072581,0.9206712366,0.9316153226,0.9206712366,0.9206712366,0.9097271505,
                       0.9206712366,0.901519086,0.9042551075,0.9179352151,0.9261432796,0.9370873656,0.9425594086,0.9589755376,
                       0.9589755376,0.9535034946,0.9398233871,0.9343513441,0.9316153226,0.9370873656,0.9288793011,0.9699196237,
                       0.9726556452,0.9507674731,0.9452954301,0.9452954301,0.9562395161,0.9507674731,0.9726556452,0.9398233871,
                       0.9370873656,0.9452954301,0.9398233871,0.9206712366,0.9343513441,0.9261432796,0.9343513441,0.9370873656,
                       0.9425594086,0.9343513441,0.9398233871,0.9562395161,0.9452954301,0.9507674731,0.9507674731,0.9644475806,
                       0.9589755376,0.9452954301,0.9370873656,0.9343513441,0.9288793011,0.9288793011,0.9507674731,0.9452954301,
                       0.9617115591,0.9507674731,0.9562395161,0.9753916667,0.9562395161,0.9671836022,0.9343513441,0.9370873656,
                       0.9425594086,0.9507674731,0.9398233871,0.9562395161]

        sourceList2 = [0.1540502688,0.1331620968,0.1305510753,0.1279400538,0.1331620968,0.1253290323,0.1148849462,0.1383841398,
                       0.1331620968,0.1279400538,0.1357731183,0.1305510753,0.1462172043,0.1409951613,0.1201069892,0.1305510753,
                       0.1279400538,0.1227180108,0.1279400538,0.1174959677,0.1227180108,0.1357731183,0.1201069892,0.1174959677,
                       0.1279400538,0.1044408602,0.1201069892,0.1331620968,0.1122739247,0.1227180108,0.1122739247,0.1227180108,
                       0.1462172043,0.1357731183,0.1227180108,0.1253290323,0.1201069892,0.1122739247,0.1305510753,0.1070518817,
                       0.1096629032,0.1253290323,0.1201069892,0.1201069892,0.1409951613,0.1227180108,0.1462172043,0.1201069892,
                       0.1540502688,0.1148849462,0.1148849462,0.1227180108,0.1462172043,0.1409951613,0.1227180108,0.1096629032,
                       0.1070518817,0.1253290323,0.1122739247,0.1227180108,0.1227180108,0.1148849462,0.1148849462,0.1227180108,
                       0.1331620968,0.1018298387,0.1201069892,0.1227180108,0.1279400538,0.1122739247,0.1279400538,0.1148849462,
                       0.1096629032,0.1279400538,0.1122739247,0.1070518817,0.0992188172,0.0992188172,0.0887747312,0.1122739247,
                       0.1018298387,0.1201069892,0.0887747312,0.0835526882,0.0678865591,0.0835526882,0.1044408602,0.1044408602,
                       0.1122739247,0.1122739247,0.1174959677,0.1070518817,0.1018298387,0.1148849462,0.1227180108,0.1096629032,
                       0.1122739247,0.1122739247,0.1096629032,0.1122739247]

        sourceList3 = [-0.1714986559,-0.1741370968,-0.1926061828,-0.1583064516,-0.1820524194,-0.1794139785,-0.1794139785,
                       -0.1978830645,-0.1926061828,-0.1952446237,-0.2057983871,-0.1952446237,-0.1741370968,-0.1767755376,
                       -0.1820524194,-0.1899677419,-0.1688602151,-0.1767755376,-0.1926061828,-0.1767755376,-0.1846908602,
                       -0.2189905914,-0.1609448925,-0.1926061828,-0.1846908602,-0.1952446237,-0.1952446237,-0.1846908602,
                       -0.1873293011,-0.1767755376,-0.1820524194,-0.1846908602,-0.1846908602,-0.1794139785,-0.1794139785,
                       -0.1714986559,-0.1714986559,-0.1609448925,-0.1609448925,-0.1583064516,-0.1794139785,-0.1741370968,
                       -0.1662217742,-0.1609448925,-0.150391129,-0.1530295699,-0.1767755376,-0.1583064516,-0.1583064516,
                       -0.1767755376,-0.1899677419,-0.1978830645,-0.1873293011,-0.2242674731,-0.1556680108,-0.2005215054,
                       -0.1846908602,-0.1688602151,-0.1530295699,-0.1688602151,-0.1741370968,-0.1635833333,-0.1556680108,
                       -0.1609448925,-0.1635833333,-0.1530295699,-0.1530295699,-0.1609448925,-0.1635833333,-0.1451142473,
                       -0.1398373656,-0.1424758065,-0.1424758065,-0.131922043,-0.1371989247,-0.1530295699,-0.1556680108,
                       -0.1424758065,-0.1213682796,-0.1820524194,-0.1345604839,-0.1108145161,-0.1292836022,-0.1451142473,
                       -0.1530295699,-0.1556680108,-0.1424758065,-0.1424758065,-0.1662217742,-0.1556680108,-0.150391129,
                       -0.150391129,-0.1477526882,-0.1477526882,-0.1451142473,-0.1556680108,-0.1477526882,-0.1398373656,
                       -0.1530295699,-0.1477526882]

        target = 0.0122690393012

        result = smaFeat.smafeat(sourcelist1,sourceList2,sourceList3)

        self.assertAlmostEqual(result,target)

if __name__ == '__main__':
    unittest.main()
